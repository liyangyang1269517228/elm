webpackJsonp([8],{KKwZ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("3cXf"),n=s.n(a),o=s("IHPB"),r=s.n(o),i=s("Cz8s"),u=s("mzkE"),c={data:function(){return{p1:"",arr:[],list:[],list2:[],ku:[],show:!1,resdata:[]}},components:{Header:i.a,zfooter:u.a},mounted:function(){var t=localStorage.getItem("sousuo");t&&(t=JSON.parse(t),this.ku=t);var e=JSON.parse(localStorage.getItem("sousuo"));null!=e&&(this.list=e)},methods:{getinput:function(){var t=this;this.http.get("http://elm.cangdu.org/v4/restaurants?extras[]=restaurant_activity&geohash=31.22299,121.36025&keyword="+this.p1+"&type=search").then(function(e){console.log(e.data),t.list2=e.data,t.list2.length>1?t.show=!0:t.show=!1});[].concat(r()(this.arr)).filter(function(e){return e.name==t.p1});this.arr.push({name:this.p1,cuo:"×"}),localStorage.setItem("sousuo",n()(this.arr))},delinput:function(){this.p1=""},dellocal:function(t){this.arr.splice(t,1)},remove:function(){localStorage.removeItem("sousuo"),this.arr=[],this.show=!0}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("Header",{attrs:{getheader1:"true",getheader2:"搜索",getheader3:"false"}}),t._v(" "),s("div",{staticClass:"body"},[s("div",{staticClass:"body1"},[s("b",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.p1,expression:"p1"}],staticClass:"input",attrs:{type:"text",placeholder:"请输入商家或美食名称"},domProps:{value:t.p1},on:{input:function(e){e.target.composing||(t.p1=e.target.value)}}}),t._v(" "),s("button",{staticClass:"button",on:{click:function(e){return t.getinput()}}},[t._v("提交查询")]),t._v(" "),s("button",{staticClass:"but2",on:{click:function(e){return t.delinput()}}},[t._v("x")])])]),t._v(" "),t.show?s("div",{staticClass:"body3"},[s("p",[t._v("商家")]),t._v(" "),t._l(t.list2,function(e,a){return s("div",{key:a,staticClass:"body3-1"},[s("img",{attrs:{src:"//elm.cangdu.org/img/"+e.image_path,alt:""}}),t._v(" "),s("div",[s("p",[t._v(t._s(e.name))]),t._v(" "),s("p",[t._v("月销"+t._s(e.recent_order_num)+"单")]),t._v(" "),s("p",[t._v("￥"+t._s(e.float_minimum_order_amount)+"元起送    距离"+t._s(e.distance))])])])})],2):s("div",{staticClass:"body2"},[s("p",[t._v("搜索历史")]),t._v(" "),t._l(t.list,function(e,a){return s("div",{key:a,staticClass:"body2-1"},[s("span",[t._v(t._s(e.name))]),t._v(" "),s("button",{on:{click:function(e){return t.dellocal(a)}}},[t._v("\n          "+t._s(e.cuo)+"\n        ")])])}),t._v(" "),s("button",{staticClass:"but3",on:{click:function(e){return t.remove()}}},[t._v("清空所有")])],2)]),t._v(" "),s("zfooter")],1)},staticRenderFns:[]};var d=s("C7Lr")(c,l,!1,function(t){s("dlmM")},"data-v-43745f26",null);e.default=d.exports},dlmM:function(t,e){}});